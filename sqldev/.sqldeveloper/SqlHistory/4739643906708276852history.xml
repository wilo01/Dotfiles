<?xml version='1.0'  encoding='UTF-8' ?>
<history>
	<historyItem>
		<sql><![CDATA[select 
       bli.id layout_id,
       bli.item_type,
       bli.font,
       bli.font_size,
       bli.font_weight,
       bli.mapping,
       bli.title,
       bli.x,
       bli.horizontal_auto_alignment,
       bli.horizontal_alignment,
       bli.vertical_auto_alignment,
       bli.vertical_alignment,
       bli.y,
       bli.value,
       bl.type,
       bli.width,
       bli.height,
       bli.font_color,
       bli.is_background,
       bli.item_id
     from 
     ca_badge_layout_items bli
     join ca_badge_layout bl on bli.id = bl.id
     where bli.id = :layout_id
       order by
         case when lower(:dir) = 'asc' then
          decode(
                 lower(:sort),
                  'layout_id', lower(bli.id),
                  'item_type', lower(item_type),
                  'font', lower(font),
                  'font_weight', lower(font_weight),
                  'font_size',  lpad(font_size, 6, '0'),
                  'mapping', lower(mapping),
                  'x', lpad(x, 3, '0'),
                  'y', lpad(y, 3, '0'),
                  'value', lower(value),
                  'is_background', lower(bli.is_background)
       ) end asc,
       case when lower(:dir) = 'desc' then
         decode(
                lower(:sort),
                  'layout_id', lower(bli.id),
                  'item_type', lower(item_type),
                  'font', lower(font),
                  'font_weight', lower(font_weight),
                  'font_size',  lpad(font_size, 6, '0'),
                  'mapping', lower(mapping),
                  'x', lpad(x, 3, '0'),
                  'y', lpad(y, 3, '0'),
                  'value', lower(value),
                  'is_background', lower(bli.is_background)
       ) end desc,
     lower(bli.item_type) asc;]]></sql>
		<connection><![CDATA[Trunk]]></connection>
		<timestamp><![CDATA[1719827610485]]></timestamp>
		<type><![CDATA[SQL]]></type>
		<executed><![CDATA[2]]></executed>
		<execTime><![CDATA[0.047]]></execTime>
	</historyItem>
</history>
