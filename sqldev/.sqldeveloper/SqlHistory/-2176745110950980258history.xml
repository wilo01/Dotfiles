<?xml version='1.0'  encoding='UTF-8' ?>
<history>
	<historyItem>
		<sql><![CDATA[select cbp.*,skw.visitor_type_description, skw.unnamed_visitors_label_code, to_char(skw.visitor_type_workflow) visitor_type_workflow
   from ca_booked_person cbp
   join safe_kiosk_workflow skw on cbp.visitor_type_code = skw.visitor_type_code
--   where cbp.due_date_time >= to_date(:f, 'YYYY-MM-DD"T"HH24:MI:SS"Z"')
--   and cbp.due_date_time <= to_date(:t, 'YYYY-MM-DD"T"HH24:MI:SS"Z"')
where cbp.checked_out_date_time is null
   and cbp.cancellation_date_time is null
   and ((trim(:shv) = 'Y' and cbp.checked_in_date_time is not null) or (trim(:shv) is null) or (trim(:shv) = 'N' and cbp.checked_in_date_time is null))
   and (trim(:asset) is null or trim(:asset) = ca_visitor_assets_pak.visitor_has_assets(cbp.booking_reference))
   and cbp.visitor_type_code = nvl(trim(:vt),cbp.visitor_type_code)]]></sql>
		<connection><![CDATA[Trunk]]></connection>
		<timestamp><![CDATA[1720002171846]]></timestamp>
		<type><![CDATA[SQL]]></type>
		<executed><![CDATA[1]]></executed>
		<execTime><![CDATA[0.198]]></execTime>
	</historyItem>
</history>
